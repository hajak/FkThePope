.hand {
  display: flex;
  justify-content: center;
  padding: 10px;
  perspective: 1000px;
  min-height: 180px; /* Prevent layout shift when hand is empty */
  /* Allow horizontal scroll on very small screens */
  overflow-x: auto;
  overflow-y: visible;
  -webkit-overflow-scrolling: touch;
}

.hand-card {
  margin-left: -30px;
  transition: margin 0.2s ease;
  flex-shrink: 0;
}

.hand-card:first-child {
  margin-left: 0;
}

.hand:hover .hand-card {
  margin-left: -20px;
}

.hand:hover .hand-card:first-child {
  margin-left: 0;
}

/* Touch devices - always spread cards since there's no hover */
@media (pointer: coarse) {
  .hand-card {
    margin-left: -25px;
  }

  .hand-card:first-child {
    margin-left: 0;
  }

  .hand:hover .hand-card {
    margin-left: -25px;
  }

  .hand:hover .hand-card:first-child {
    margin-left: 0;
  }
}

/* Mobile phones - fan/feather layout for better visibility */
@media screen and (max-width: 767px) {
  .hand {
    padding: 5px;
    padding-top: 20px; /* Room for selected card to raise */
    min-height: 100px;
    height: 100px; /* Fixed height to prevent layout shift */
    position: relative;
    display: flex;
    justify-content: center;
    align-items: flex-end;
  }

  .hand-card {
    margin-left: -22px;
    transform-origin: bottom center;
    /* Fan effect: rotate cards based on position */
    transform: rotate(calc((var(--index) - 6) * 3deg));
    transition: transform 0.15s ease, margin 0.15s ease;
  }

  .hand-card:first-child {
    margin-left: 0;
  }

  .hand:hover .hand-card {
    margin-left: -22px;
  }

  .hand:hover .hand-card:first-child {
    margin-left: 0;
  }
}

/* Card deal animation */
@keyframes dealCard {
  from {
    opacity: 0;
    transform: translateY(30px) scale(0.8);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.hand-card {
  animation: dealCard 0.4s ease-out backwards;
}

/* Stagger the animation for each card */
.hand-card:nth-child(1) { animation-delay: 0.02s; }
.hand-card:nth-child(2) { animation-delay: 0.04s; }
.hand-card:nth-child(3) { animation-delay: 0.06s; }
.hand-card:nth-child(4) { animation-delay: 0.08s; }
.hand-card:nth-child(5) { animation-delay: 0.10s; }
.hand-card:nth-child(6) { animation-delay: 0.12s; }
.hand-card:nth-child(7) { animation-delay: 0.14s; }
.hand-card:nth-child(8) { animation-delay: 0.16s; }
.hand-card:nth-child(9) { animation-delay: 0.18s; }
.hand-card:nth-child(10) { animation-delay: 0.20s; }
.hand-card:nth-child(11) { animation-delay: 0.22s; }
.hand-card:nth-child(12) { animation-delay: 0.24s; }
.hand-card:nth-child(13) { animation-delay: 0.26s; }
